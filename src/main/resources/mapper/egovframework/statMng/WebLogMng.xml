<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.com.stat.dao.WebLogDao">

	<!-- Maria -->
    <select id="selectWebLogList"  parameterType="Map" resultType="hashMap">

		SELECT 	ID as "id"
				, HOSTNAME as "hoatName"
				, OCCRRNC_DE as "occrrncDe"
				, URL as "url"
				, RQESTER_ID as "rqesterId"
				, RQESTER_IP as "rqesterIP"
		FROM COMTNWEBLOG

	</select>

	<insert id="insertWebLog" parameterType="hashMap">
	INSERT INTO COMTNWEBLOG (
		ID
		, HOSTNAME
		, OCCRRNC_DE
		, URL
		, RQESTER_ID
		, RQESTER_IP
	) VALUES (
		NEXT VALUE FOR Seq_WebLog
		, #{HOSTNAME}
		, DATE_FORMAT(CURRENT_TIMESTAMP, '%Y%m%d%H%i%s')
		, #{URL}
		, #{RQESTER_ID}
		, #{RQESTER_IP}

	)
	</insert>

</mapper> 